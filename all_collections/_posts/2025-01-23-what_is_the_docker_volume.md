---
layout: post
title: 📁 도커 볼륨이란 무엇인가
date: 2025-01-23
categories: ["SamBeak", "Docker", "devops"]
---

# Docker Volume <br>

> ## 도커 볼륨에 관하여

### 🏷️ Volume 등장 배경 <br>

처음 Docker를 접하고 <br>
컨테이너에 DB를 실행시킨 적이 있다. <br><br>

한참 이것저것 만들고 나서 <br>
테이블 구조를 변경하고 <br>
컨테이너를 업데이트를 시키고자했더니 <br>
여태 담았던 모든 데이터가 날라간 경험이 있다. <br><br>

"디버깅 6시간이면 문서 읽을 시간 5분을 줄일 수 있다." <br>
제이콥 아저씨의 한 마디가 가슴에 메아리 친다. <br><br>

이렇듯 컨테이너는 <br>
새로운 기능이 추가되면 <br>
기존 데이터에 업데이트를 하는 방식으로 진행되지 않고 <br>
컨테이너를 통째로 갈아끼는 것을 합리적이라고 판단하는데 <br>
이 과정에서 컨테이너 내부의 데이터도 전부 날아가는 <br>
문제점이 발생하게 된다 <br><br>

Docker Volume은 이러한 배경 속에 등장했다. <br>

### 🏷️ Volume의 디텍토리 경로 <br>

Volume은 호스트의 디텍토리가 존재하면 <br>
호스트의 디텍토리를 가져다가 <br>
컨테이너의 디텍토리를 채우는 방식으로 진행되고 <br><br>

만약, 호스트의 디텍토리가 존재하지 않는다면 <br>
컨테이너의 디텍토리를 가져다가 <br>
호스트의 디텍토리를 채우는 방식으로 진행된다. <br><br>

### 🏷️ Volume의 주요 실수 <br>

그러다보니, Volume을 사용할 때 <br>
특히, DB를 예로 들어 말하자면 <br>
DB는 환경변수를 설정하다보니 <br>
호스트의 디텍토리에 환경변수 파일이 남아서 <br>
삭제 후 다시 설치해도 해당 환경변수를 가지고 <br>
다시 설치되는 경우가 왕왕 존재한다. <br><br>

따라서, 환경 변수를 변경하거나 <br>
컨테이너를 초기화하고 싶다면 <br>
반드시 호스트 디텍토리를 확인하고 <br>
해당 경로의 환경 변수 파일도 확인해야 한다. <br><br>

### 🏷️ Volume 정리 <br>

정리하자면, <br>
볼륨은 컨테이너에서 데이터를 <br>
가능한 영속적으로 활용하기 위해 등장한 방법이다. <br><br>

컨테이너 내부의 저장 공간을 사용하지 않고(?), <br>
호스트 자체의 저장 공간을 공유해서 사용하는 것으로 <br>
결국, 동기화해서 사용하는 것으로 이해하는 편이 정신 건강에 이롭다. <br><br>
